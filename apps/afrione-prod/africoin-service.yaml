name: africoin-service
project: afrione-production-project
namespace: production
values: |-
  fullnameOverride: africoin-service
  image:
    repository: afrioneltd/africoin-service:prod-app-24
  namespace: production
  containerPort: 8002
  autoscaling:
    enabled: false
  role:
    enabled: true
  ingress:
    host: api-useafri
    domain: afrione.co
  resources:
    requests:
      memory: "500Mi"
      cpu: "150m"
    limits:
      memory: "1000Mi"
      cpu: "800m"
  lProbe:
    enabled: true
    path: /actuator/health
    failureThreshold: 5
    periodSeconds: 15
    initialDelaySeconds: 120
  rProbe:
    enabled: true
    path: /actuator/health
    failureThreshold: 5
    periodSeconds: 15
    initialDelaySeconds: 120
  env:
    - name: SPRING_PROFILES_ACTIVE
      value: prod
    - name: DATABASE_USERNAME
      valueFrom:
        configMapKeyRef:
          name: configs
          key: DATABASE_USERNAME
    - name: DATABASE_PASSWORD
      valueFrom:
        configMapKeyRef:
          name: configs
          key: DATABASE_PASSWORD
    - name: DATABASE_URL
      valueFrom:
        configMapKeyRef:
          name: configs
          key: DATABASE_URL
    - name: AFRICOIN_ERC20_ADMIN_PRIVATE_KEY
      valueFrom:
        secretKeyRef:
          name: africoin-blockchain-service
          key: ADMIN_ETH_PRIVATE_KEY
    - name: AFRICOIN_TRC20_ADMIN_PRIVATE_KEY
      valueFrom:
        secretKeyRef:
          name: africoin-blockchain-service
          key: ADMIN_TRON_PRIVATE_KEY
  volumeMounts:
    - name: config
      mountPath: "/africoin/config"
      readOnly: true
  volumes:
    - name: config
      configMap:
        name: africoin-service
